<div class="auth-form-container">
  <form
    [formGroup]="resetPasswordForm"
    (ngSubmit)="onSubmitResetPasswordForm()"
    class="reset-password-form"
  >
    <fieldset>
      <legend style="text-align: center">Reset Your Password</legend>

      <label for="email">Email</label>
      <input
        type="text"
        id="email"
        placeholder="Your email address"
        name="email"
        formControlName="email"
      />
      @if(emailInvalid) {
      <div class="error-message">
        <p *ngIf="resetPasswordForm.controls.email.hasError('email')">
          Please enter a valid email address
        </p>
        <p *ngIf="resetPasswordForm.controls.email.hasError('required')">
          Email Address is required.
        </p>
      </div>
      }

      <label for="code">Reset Code</label>
      <input
        type="text"
        id="code"
        placeholder="Enter the code from your email"
        name="code"
        formControlName="code"
      />
      @if(codeInvalid) {
      <div class="error-message">
        <p *ngIf="resetPasswordForm.controls.code.hasError('minlength')">
          Code must be 6 characters long
        </p>
        <p *ngIf="resetPasswordForm.controls.code.hasError('pattern')">
          Code must only contain upper case letters and digits
        </p>
        <p *ngIf="resetPasswordForm.controls.code.hasError('required')">
          Reset code is required
        </p>
      </div>
      }

      <label for="newPassword">New Password</label>
      <input
        type="password"
        id="newPassword"
        placeholder="Enter your new password"
        name="newPassword"
        formControlName="newPassword"
      />
      @if(newPasswordInvalid) {
      <div class="error-message">
        <p *ngIf="resetPasswordForm.controls.newPassword.hasError('minlength')">
          Password minimum length is 4
        </p>
        <p *ngIf="resetPasswordForm.controls.newPassword.hasError('required')">
          New password is required.
        </p>
      </div>
      }

      <label for="confirmPassword">Confirm New Password</label>
      <input
        type="password"
        id="confirmPassword"
        placeholder="Confirm your new password"
        name="confirmPassword"
        formControlName="confirmPassword"
      />
      @if(confirmPasswordInvalid) {
      <div class="error-message">
        <p
          *ngIf="
            resetPasswordForm.controls.confirmPassword.hasError('required')
          "
        >
          Please confirm your password
        </p>
        <p
          *ngIf="
            resetPasswordForm.controls.confirmPassword.value !==
            resetPasswordForm.controls.newPassword.value
          "
        >
          Passwords do not match
        </p>
      </div>
      }

      <div class="info-message">
        <p>
          Enter the reset code sent to your email along with your new password.
        </p>
      </div>
    </fieldset>

    <button type="submit">Reset Password</button>

    <p style="color: var(--text-primary)">
      Remember your password? <a routerLink="/sign-in">Back to Sign In</a>
    </p>
  </form>
</div>

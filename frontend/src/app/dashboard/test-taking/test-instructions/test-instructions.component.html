<div class="instructions-container">
  <div class="instructions-header">
    <h1>Test Instructions</h1>
    <div class="test-info">
      <h2>{{ testConfig().testName }}</h2>
      <p>
        Duration: {{ formatDuration(testConfig().duration) }} | Questions:
        {{ testConfig().numOfQuestions }}
      </p>
      <p>Categories: {{ testConfig().categories.join(", ") }}</p>
    </div>
  </div>

  <div class="instructions-content">
    <div class="instruction-section">
      <h3>Test Guidelines:</h3>
      <ul>
        <li>
          You have
          <strong>{{ formatDuration(testConfig().duration) }}</strong> to
          complete the test
        </li>
        <li>Each question has multiple choice answers</li>
        <li>You can navigate between questions using the question navigator</li>
        <li>Questions can be attempted in any order</li>
        <li>You can change your answers before submitting</li>
        <li>The test will auto-submit when time expires</li>
        <li>Passing score: {{ testConfig().passingScore }}%</li>
      </ul>
    </div>

    <div class="instruction-section warning">
      <h3>⚠️ Important Security Rules:</h3>
      <ul>
        <li>
          <strong>Do NOT switch to other tabs or applications</strong> - This
          will be detected as cheating
        </li>
        <li><strong>First violation:</strong> You will receive a warning</li>
        <li>
          <strong>Second violation:</strong> Your test will be automatically
          submitted and marked as failed
        </li>
        <li><strong>Stay focused on the test window at all times</strong></li>
      </ul>
    </div>

    <div class="agreement-section">
      <label class="agreement-checkbox">
        <input type="checkbox" (change)="onAgreementChange($event)" />
        <span class="checkmark"></span>
        I have read and understood all the instructions and agree to follow the
        test guidelines
      </label>
    </div>
  </div>

  <div class="instructions-footer">
    <button
      class="start-test-btn"
      [disabled]="!isAgreed"
      (click)="startTest.emit()"
    >
      Start Test
    </button>
    <p class="disclaimer">
      Once you click "Start Test", the timer will begin immediately
    </p>
  </div>
</div>
